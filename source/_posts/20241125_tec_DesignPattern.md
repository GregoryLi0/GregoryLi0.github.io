---
title: C++设计模式
category: 技术博客
mathjax: true
password: 12317003
date: 2024-11-25
---

# 第一章 理论基础

设计模式是对设计经验的显示表示。每个设计模式描述了一个反复出现的问题及其解法的核心内容。本章讲解累的构造、UML类图的组成，使用EIT造型拼接出设计模式。

## 1.1 类方法

## 1.2 类间关系

一个类内部权限分为：

```
+: 可见(public)
-: 不可见(private)
#: 保护(protected)
```

类间关系根据耦合强度由高到低分为：

1. 接口实现：派生类必须重写接口中的方法。虚线＋空心三角
2. 继承泛化关系：派生类继承基类，基类看做“一般设计”，派生类看做“特殊设计”。实线＋实心三角
3. 不可分离组合关系：整体与部分的关系，整体的生命周期与部分的生命周期一致。实线＋实心菱形
4. 可分离聚合关系：整体与部分的关系，整体的生命周期与部分的生命周期可以不一致。实线＋空心菱形
5. 关联关系：两个类在对象之间有关联，可以是单向或双向。实线＋箭头(单向)或实线＋箭头(双向)
6. 依赖关系：一个A类依赖另一个B类中的方法，一般在A的函数中传入B的对象，在函数中调用B的方法。虚线＋箭头

## 1.3 EIT造型

### 1.3.1 EIT造型的定义

EIT造型是一种用于表述雷雨类之间关系纽带的概念，把本无关系的单个类变成联系密切的亲戚。EIT把数学中自变量和因变量的关系引入到软件设计中，找到一种类似的“数学公式”。

EIT由三部分组成：E: Engine, I: Interface, T: Tire

基类E和派生类T之间通过接口I进行联系，I是E和T之间的纽带。                    

**书中第9页代码和第11页的图对不上，需要修改。且不理解为什么这么做，因为在Car中还是指定了唯一接口，接口中也指定了唯一派生类**

## 1.4 组合设计模式

软件架构设计的基础是抽离出公共部分进行复用，作为E；最主要的工作是设计出结构，作为I；最后设计出可更换的T。

# 第二章 六大设计原则

## 2.1 开闭原则

“开闭”是针对软件设计的拓展和修改两个方面的原则。软件设计应该是对拓展开放的，对修改封闭的。

## 2.2 里氏替换原则

里氏替换原则指的是子类型（subtype）必须能够替换掉它们的基类型（base type），并且程序的行为不会发生改变。

## 2.3 依赖倒置原则

它主要包括两个方面的内容：高层模块不应该依赖低层模块，二者都应该依赖抽象；抽象不应该依赖细节，细节应该依赖抽象。

简单来说，就是在软件系统的设计中，应该尽量避免让高层级的模块直接依赖低层级的具体模块，而是通过抽象（如接口或抽象类）来建立它们之间的关系。这样可以降低模块之间的耦合度，提高系统的可维护性和可扩展性。