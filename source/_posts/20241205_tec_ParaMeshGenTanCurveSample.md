---
title: 类切参数曲线无交采样
category: 技术博客
mathjax: true
password: 12317003
---

本文总结在参数空间内，类切参数曲线无交采样的方法。

在参数域内，两曲线在一些类切情况，样条曲线本身不存在交点。但在网格生成时，由于采样率的不同，可能生成的网格存在交点。本博客设计一种算法，使得在参数空间内，两曲线无交采样。

# 算法思想

算法是对参数域上的Loop进行处理。默认Loop无cross类型的自交点。

对采样分为两种区域：

- case1: 两曲线无交、有一定距离的区域；

- case2: 两曲线有交的区域。即两曲线首尾相连，在连接处转向较大。

## case1

对于case1，我们可以对曲线进行细分，对一个参数域[t0,t1]构建包围体。若该包围体和另一曲线的包围体无交，则在该参数域内可以进行任意采样。（需要包含首尾点）

证明：用 $C1(s)$ 表示曲线1，$C2(t)$ 表示曲线2。对于曲线1，我们可以构建包围体 $B1$，对于曲线2，我们可以构建包围体 $B2$。若 $B1$ 和 $B2$ 无交，则采样点与连线 $l(p1,p2) \in C1(s) \in B1$ 和 $l(q1,q2) \in C2(t) \in B2$ 无交。 

## case2

对于case2，考虑交点处情况。计算两条曲线在该点处的切向与转向。

### case2.1

两曲线转向方向相同。此时，对转向方向侧曲线先进行采样，再对另一侧曲线进行采样。

![case2_1](images/20241205_tec_ParaMeshGenTanCurveSample/cas2_1.png)

### case2.2

两曲线转向方向相反，且向外。此时不可能相交。

### case2.3

两曲线转向方向相反，且向内。此时采样不会相交。